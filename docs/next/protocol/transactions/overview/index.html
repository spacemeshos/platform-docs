<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spacemesh Platform Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spacemesh Platform Docs Blog Atom Feed"><title data-react-helmet="true">Transactions | Spacemesh Platform Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Transactions | Spacemesh Platform Docs"><meta data-react-helmet="true" name="description" content="The transaction is one of the most basic data structures used in Spacemesh and in many other blockchain protocols. In Spacemesh, there are three types of transactions: a simple coin transfer, an activation transaction (ATX), and a smart contract call. Activation transactions are a special type of transaction used as part of the mining process. They are described in the mining docs. Smart contract transactions are part of the experimental Spacemesh Virtual Machine (SVM) project, which is not in production yet. Throughout the rest of this document, the term &quot;transaction&quot; refers to a coin transfer."><meta data-react-helmet="true" property="og:description" content="The transaction is one of the most basic data structures used in Spacemesh and in many other blockchain protocols. In Spacemesh, there are three types of transactions: a simple coin transfer, an activation transaction (ATX), and a smart contract call. Activation transactions are a special type of transaction used as part of the mining process. They are described in the mining docs. Smart contract transactions are part of the experimental Spacemesh Virtual Machine (SVM) project, which is not in production yet. Throughout the rest of this document, the term &quot;transaction&quot; refers to a coin transfer."><meta data-react-helmet="true" property="og:url" content="https://platform.spacemesh.io/docs/next/protocol/transactions/overview"><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://platform.spacemesh.io/docs/next/protocol/transactions/overview"><link rel="stylesheet" href="/styles.457accf9.css">
<link rel="preload" href="/styles.286d6e86.js" as="script">
<link rel="preload" href="/runtime~main.69121984.js" as="script">
<link rel="preload" href="/main.2e81677a.js" as="script">
<link rel="preload" href="/1.a65124db.js" as="script">
<link rel="preload" href="/39.6a5733e2.js" as="script">
<link rel="preload" href="/40.53bf907d.js" as="script">
<link rel="preload" href="/935f2afb.b0ccca47.js" as="script">
<link rel="preload" href="/38.0dc0b0df.js" as="script">
<link rel="preload" href="/28f0cddb.24545253.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/protocol/transactions/overview">Next</a></li><li><a class="dropdown__link" href="/docs/protocol/transactions/overview">0.1.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/next/protocol/transactions/overview">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/protocol/transactions/overview">0.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/">Welcome</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protoocl</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/p2p/overview">Peer to Peer</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Consensus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/consensus/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/consensus/deepdive">Deep Dive</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hare</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/hare/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/hare/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Mining</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/post">PoST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/poet">PoET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/activations">Activations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/sync/overview">Sync</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/protocol/transactions/overview">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/api/overview">Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Spacemesh Platform Docs <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/protocol/transactions/overview">latest version</a></strong> (0.1.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">Transactions</h1></header><div class="markdown"><p>The transaction is one of the most basic data structures used in Spacemesh and in many other blockchain protocols. In Spacemesh, there are three types of transactions: a simple coin transfer, an activation transaction (ATX), and a smart contract call. Activation transactions are a special type of transaction used as part of the mining process. They are <a href="/docs/next/protocol/mining/activations">described in the mining docs</a>. Smart contract transactions are part of the experimental <a href="https://github.com/spacemeshos/svm" target="_blank" rel="noopener noreferrer">Spacemesh Virtual Machine (SVM)</a> project, which is not in production yet. Throughout the rest of this document, the term &quot;transaction&quot; refers to a coin transfer.</p><p>In Spacemesh, a transaction is an order to transfer funds from one account to another. The transaction specifies the amount to be transferred, the sender&#x27;s wallet address, the recipient&#x27;s wallet address, and the fee to be paid to the miner that mines the transaction. The transaction is signed using the private key of the sender, which is how the protocol knows that the transaction is legitimate (i.e., that it originated with the holder of the sender&#x27;s private key).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="account-model"></a>Account model<a class="hash-link" href="#account-model" title="Direct link to heading">#</a></h2><p>Spacemesh uses the account model for storing value. This means that users are encouraged to reuse accounts for multiple transactions, similar to a bank account, rather than generate a new address for every transaction (as in the UTXO model). When multiple transactions increase the balance of an account, the funds from different transactions become fungible and indistinguishable from one another.</p><p>An account in Spacemesh is a mapping from a wallet address to a balance of Smesh tokens. Note that there is not a one-to-one mapping between <em>users</em> and <em>addresses,</em> as one user may control many addresses (or, less often but also possibly, one address could be controlled by many users).</p><p>Even though a transaction is signed, so that the protocol can verify that it came from the sender, without additional protections, transactions are still susceptible to a <a href="https://en.wikipedia.org/wiki/Replay_attack" target="_blank" rel="noopener noreferrer">replay attack</a>: if Alice sends funds to Bob, Bob could resend the same transaction (that Alice already signed) to the network to steal additional funds from Alice. In order to prevent replay attacks, each account also stores a transaction counter (some other platforms such as Ethereum call this a &quot;nonce&quot;). Each transaction must declare a counter, and a transaction is only valid if it has a counter that matches the current value of the account counter.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="address-format-and-signature-scheme"></a>Address format and signature scheme<a class="hash-link" href="#address-format-and-signature-scheme" title="Direct link to heading">#</a></h3><p>Spacemesh uses the standard <code>curve25519</code> to generate keypairs. A private key is a random 32 byte number, and the public key is generated from the private key. The Spacemesh address is the 20-byte suffix of the public key. In other words, the wallet address may be expressed as:</p><p><code>address = Bytes[12..31](public_key)</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="transaction-structure"></a>Transaction structure<a class="hash-link" href="#transaction-structure" title="Direct link to heading">#</a></h2><p>The actual transaction data structure in Spacemesh contains the following:</p><ul><li>Recipient&#x27;s address (20 bytes)</li><li>Amount to transfer (8 bytes)</li><li>Amount of the fee to be paid (to the miner) (8 bytes)</li><li>Transaction counter (8 bytes)</li><li>Signature (64 bytes)</li></ul><p>The transaction is signed using the private key corresponding to the sender&#x27;s account. Note that the sender&#x27;s address is not <em>explicitly</em> included in the transaction. This is because it can be <em>derived</em> from this signature (using <a href="https://crypto.stackexchange.com/questions/18105/how-does-recovering-the-public-key-from-an-ecdsa-signature-work/18106" target="_blank" rel="noopener noreferrer">public key extraction</a> applied to the EdDSA signature scheme).</p><p>The total size of a transaction is 108 bytes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="syntactic-validity"></a>Syntactic validity<a class="hash-link" href="#syntactic-validity" title="Direct link to heading">#</a></h3><p>Technically, any message that is 108 bytes long can be interpreted as a syntactically valid transaction. However, the transaction won&#x27;t necessarily, ultimately be applied to the global state unless <a href="#contextual-validity">certain conditions</a> are met later.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mining-transactions"></a>Mining transactions<a class="hash-link" href="#mining-transactions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mempool-and-gossip"></a>Mempool and gossip<a class="hash-link" href="#mempool-and-gossip" title="Direct link to heading">#</a></h3><p>Miners receive incoming, unprocessed transactions via the <a href="/docs/next/protocol/p2p/overview">gossip network</a> and locally over GRPC. When a miner receives a transaction, it checks that the transaction is valid and that it hasn&#x27;t already seen the transaction before (i.e., it&#x27;s not already in the mempool, nor in the mesh as part of at least one block).</p><p>The node next performs the following basic checks on the transaction:</p><ul><li>Is it syntactically valid? (i.e., the right length)</li><li>Does the sender account exist, and contain a sufficient balance (&gt;= the amount + fee)?</li><li>Is the transaction counter correct?</li></ul><p>If these are all true, then the node saves the transaction into its mempool (each miner maintains its own mempool) and gossips it to the network. If not, then the transaction is rejected, is not added to the mempool, and is not gossiped.</p><p>Note that the node considers other <em>pending outgoing transactions</em> when performing this check. In other words, if Alice sends three transactions in a row, and none of them have been confirmed yet, they are only considered valid and added to the mempool if they have sequential transaction counters that start at the current counter value, and if none of the transactions &quot;overdrafts&quot; the account (including both the transaction amount and the fee). In particular, note that this calculation <em>does not consider pending incoming transactions.</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="assembling-blocks"></a>Assembling blocks<a class="hash-link" href="#assembling-blocks" title="Direct link to heading">#</a></h3><p>Each mining node is incentivized to include as many fee-paying transactions as possible into blocks that it assembles. Note that it is not trivial to determine which transactions will pay fees. This is because only transactions that are <em><a href="#contextual-validity">contextually valid</a> in the instant when they&#x27;re <a href="#global-state">applied to the global state</a></em> pay fees (invalid transactions are discarded). Moreover, unlike in a blockchain, in Spacemesh a miner actually has no control over the final order of transactions in a layer. This is because the miner submits only a single block to the layer, and does not know the ultimate <a href="#transaction-ordering">order of blocks and transactions</a> in that layer. If another conflicting transaction appears before the transaction in questionâ€”e.g., one that spends all of the funds in the sending account, or has the same transaction counterâ€”then the transaction in question may ultimately be deemed invalid, and discarded, without paying a fee.</p><p>For the same reason, in Spacemesh, <em>one invalid transaction does not invalidate a block.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="applying-transactions"></a>Applying transactions<a class="hash-link" href="#applying-transactions" title="Direct link to heading">#</a></h2><p>The process of determining the current canonical state is simply the process of ordering and applying all of the transactions in the canonical mesh, in order. This process is explained in greater detail here.</p><p>Transactions are applied one by one, in the order in which they appear in blocks, to the global state. Valid transactions cause the state to be updated. Of course, since Spacemesh defines a canonical ledger, the order in which transactions are applied is very important.</p><a name="ordering"></a>### Transaction ordering<p>Transaction order in Spacemesh is defined in the following way:</p><ol><li>Blocks in layer <em>n</em> come before those in layer <em>n+1</em></li><li>The IDs of all <a href="/docs/next/protocol/consensus/overview#validity">contextually valid</a> blocks in layer <em>n</em> are listed in ascending order</li><li>These block IDs are concatenated and hashed</li><li>The hash sum is used as the seed for a <a href="https://en.wikipedia.org/wiki/Mersenne_Twister" target="_blank" rel="noopener noreferrer">Mersenne Twister</a> (a type of pseudorandom number generator)</li><li>A <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" target="_blank" rel="noopener noreferrer">Fisher-Yates shuffle</a> is performed on the list of block IDs using the output of the Mersenne Twister</li><li>Transactions from the ordered blocks are then applied, in the order they appear in each block, ignoring duplicates (only the first appearance of a transaction determines its ordering)</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="contextual-validity"></a>Contextual validity<a class="hash-link" href="#contextual-validity" title="Direct link to heading">#</a></h3><p>A transaction is deemed contextually valid if, <em>at the moment when a transaction is applied to the global state,</em> the following conditions apply:</p><ol><li>The transaction appears in a <a href="/docs/next/protocol/consensus/overview#block-validity-in-spacemesh">contextually valid block</a></li><li>The origin account (derived from the signature) exists</li><li>The counter on the account matches the transaction counter</li><li>The account balance is greater than or equal to the transaction amount + fee</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="global-state"></a>Global state<a class="hash-link" href="#global-state" title="Direct link to heading">#</a></h3><p>The transactions in a given layer are applied to global state, <a href="#ordering">in order</a>, when that layer is finalized.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="finality"></a>Finality<a class="hash-link" href="#finality" title="Direct link to heading">#</a></h4><p>There are two stages of finalization in Spacemesh: the Hare and the Tortoise. A layer (and all of the transactions it includes) is applied to global state when the Hare protocol reaches consensus about it, usually within four minutes of when the blocks are produced. When the Tortoise reaches this layer later (depending on network parameters and conditions, this will usually be two layers later) it can reaffirm the output of the Hare or reverse its conclusion. In the latter case, both transactions and rewards are rolled back and reapplied based on the new set of valid blocks.</p><p>In the future, self healing will also possibly cause a rollback, but this is not implemented yet.</p><p>For more information on the consensus process, see <a href="/docs/next/protocol/consensus/overview">Consensus</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="state-transition-function"></a>State transition function<a class="hash-link" href="#state-transition-function" title="Direct link to heading">#</a></h4><p>The entire process of applying the transactions for a given layer is performed as a single, atomic database transaction. Transactions are applied by being passed through the following state transition function:</p><ol><li>The origin account balance is decremented by the transaction amount + fee</li><li>The recipient account balance is incremented by the transaction amount</li><li>The origin account transaction counter is incremented by one</li></ol><p>After each pass over the list of transactions, another pass is performed on the remaining (unapplied) transactions, in the same order, until no transaction from the list can be applied. The worst case performance is <code>O(N^2)</code>, and the expected (i.e., non-malevolent) case is <code>O(N)</code>, where <code>N</code> is the number of transactions in the layer. (In fact, it&#x27;s <code>O(N*M)</code> where <code>M</code> is the length of the longest chain of intra-layer dependencies. However, <code>M</code> is expected to be very small since a wallet should not create transactions that depend upon other transactions in the same layer.)</p><p>Fees are distributed to the miner at the same time, but using an independent state transition. This is because transaction fees are pooled per layer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fees-and-rewards"></a>Fees and rewards<a class="hash-link" href="#fees-and-rewards" title="Direct link to heading">#</a></h3><p>As in Bitcoin and other blockchain platforms, a Spacemesh transaction pays a fee to incentivize a miner to include the transaction in a block. However, fees and mining rewards work a bit differently in Spacemesh.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mining-rewards"></a>Mining rewards<a class="hash-link" href="#mining-rewards" title="Direct link to heading">#</a></h4><p>Time in Spacemesh is divided into fixed-length units of time called <a href="/docs/next/protocol/overview#spacemesh-basics">layers and epochs</a>. An epoch consists of a fixed number of layers. Each layer is five minutes long and contains a set of blocks.</p><p>The Spacemesh protocol distributes 50 Smesh (SMH) (subject to the Smesh minting schedule) to the miners who contributed blocks to each layer. The amount of the reward paid to each miner depends on the number of blocks contributed by that miner, and on the total number of blocks contributed in that layer. A miner that contributes more blocks receives more reward.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="transaction-fees"></a>Transaction fees<a class="hash-link" href="#transaction-fees" title="Direct link to heading">#</a></h4><p>Like the wait staff in a restaurant pooling tips, transaction fees in Spacemesh are also pooled per layer and evenly distributed to all miners who contributed blocks to the layer, proportional to how many (contextually valid) blocks they contributed.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timing"></a>Timing<a class="hash-link" href="#timing" title="Direct link to heading">#</a></h4><p>Both mining rewards and fees are credited to miners as part of the same atomic database transaction where all transactions in a layer are applied.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="block-weights"></a>Block weights<a class="hash-link" href="#block-weights" title="Direct link to heading">#</a></h4><p>At present, both block rewards and fees are divided equally among all the published, <a href="/docs/next/protocol/consensus/overview">contextually valid</a> blocks in a layer: in other words, a miner that contributed four blocks (and was eligible to contribute at least four blocks) would receive precisely twice the reward and twice the fees for that layer as a miner who contributed (and was eligible to contribute) two.</p><p>However, this is subject to change as Spacemesh adds support for <em>block weights.</em> Under the system of block weights, each miner will instead receive a share (of rewards and fees) based on the product of storage x ticks they declared in their <a href="/docs/next/protocol/mining/activations">activation transaction (ATX)</a>. This share is divided by the number of blocks they are <em>expected</em> (i.e., eligible) to produce during the entire epoch. Each contextually valid block they ultimately produce will grant them a portion of this share. (E.g., if a miner is eligible to produce 50 blocks during a given epoch, and only produces 25, it will receive only half of the share. The rest will be distributed among all published blocks along with the rest of the pool.)</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spacemeshos/platform-docs/blob/main/docs/protocol/transactions/01-overview.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-09T16:48:27.000Z" class="docLastUpdatedAt_1Qna">3/9/2021</time> by <strong>Aviv Eyal</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/protocol/sync/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Sync</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/api/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spacemesh API Documentation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#account-model" class="table-of-contents__link">Account model</a><ul><li><a href="#address-format-and-signature-scheme" class="table-of-contents__link">Address format and signature scheme</a></li></ul></li><li><a href="#transaction-structure" class="table-of-contents__link">Transaction structure</a><ul><li><a href="#syntactic-validity" class="table-of-contents__link">Syntactic validity</a></li></ul></li><li><a href="#mining-transactions" class="table-of-contents__link">Mining transactions</a><ul><li><a href="#mempool-and-gossip" class="table-of-contents__link">Mempool and gossip</a></li><li><a href="#assembling-blocks" class="table-of-contents__link">Assembling blocks</a></li></ul></li><li><a href="#applying-transactions" class="table-of-contents__link">Applying transactions</a><ul><li><a href="#contextual-validity" class="table-of-contents__link">Contextual validity</a></li><li><a href="#global-state" class="table-of-contents__link">Global state</a></li><li><a href="#fees-and-rewards" class="table-of-contents__link">Fees and rewards</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/spacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/teamspacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spacemeshos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Spacemesh. This work is licensed under CC BY 4.0.</div></div></div></footer></div>
<script src="/styles.286d6e86.js"></script>
<script src="/runtime~main.69121984.js"></script>
<script src="/main.2e81677a.js"></script>
<script src="/1.a65124db.js"></script>
<script src="/39.6a5733e2.js"></script>
<script src="/40.53bf907d.js"></script>
<script src="/935f2afb.b0ccca47.js"></script>
<script src="/38.0dc0b0df.js"></script>
<script src="/28f0cddb.24545253.js"></script>
</body>
</html>