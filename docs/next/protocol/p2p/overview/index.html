<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spacemesh Platform Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spacemesh Platform Docs Blog Atom Feed"><title data-react-helmet="true">Peer-to-Peer Networking | Spacemesh Platform Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Peer-to-Peer Networking | Spacemesh Platform Docs"><meta data-react-helmet="true" name="description" content="The Spacemesh protocol leads to the construction of a global, distributed ledger. As such, each Spacemesh node must receive, validate, and store all transactions created by all other Spacemesh nodes. Also, nodes participate in consensus and listen to PoET server results. This requires the nodes to have a communication infrastructure to transport messages across the network. For this, Spacemesh nodes use a custom-built peer-to-peer (P2P) protocol. Using P2P technology allows nodes to efficiently transmit messages without the need for a centralized message server."><meta data-react-helmet="true" property="og:description" content="The Spacemesh protocol leads to the construction of a global, distributed ledger. As such, each Spacemesh node must receive, validate, and store all transactions created by all other Spacemesh nodes. Also, nodes participate in consensus and listen to PoET server results. This requires the nodes to have a communication infrastructure to transport messages across the network. For this, Spacemesh nodes use a custom-built peer-to-peer (P2P) protocol. Using P2P technology allows nodes to efficiently transmit messages without the need for a centralized message server."><meta data-react-helmet="true" property="og:url" content="https://platform.spacemesh.io/docs/next/protocol/p2p/overview"><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://platform.spacemesh.io/docs/next/protocol/p2p/overview"><link rel="stylesheet" href="/styles.4d0f6cc4.css">
<link rel="preload" href="/styles.911b1de1.js" as="script">
<link rel="preload" href="/runtime~main.9b6d7683.js" as="script">
<link rel="preload" href="/main.f41fa988.js" as="script">
<link rel="preload" href="/1.069955a3.js" as="script">
<link rel="preload" href="/39.5a542fb3.js" as="script">
<link rel="preload" href="/40.53bf907d.js" as="script">
<link rel="preload" href="/935f2afb.3b334d49.js" as="script">
<link rel="preload" href="/38.0dc0b0df.js" as="script">
<link rel="preload" href="/959b2680.bf524bde.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/protocol/p2p/overview">Next</a></li><li><a class="dropdown__link" href="/docs/protocol/p2p/overview">0.1.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/next/protocol/p2p/overview">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/protocol/p2p/overview">0.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/">Welcome</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/protocol/p2p/overview">Peer to Peer</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Consensus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/consensus/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/consensus/deepdive">Deep Dive</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hare</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/hare/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/hare/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Mining</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/post">PoST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/poet">PoET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/protocol/mining/activations">Activations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/sync/overview">Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/protocol/transactions/overview">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/api/overview">Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Spacemesh Platform Docs <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/protocol/p2p/overview">latest version</a></strong> (0.1.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">Peer-to-Peer Networking</h1></header><div class="markdown"><p>The Spacemesh protocol leads to the construction of a global, distributed ledger. As such, each Spacemesh node must receive, validate, and store all transactions created by all other Spacemesh nodes. Also, nodes <a href="/docs/next/protocol/consensus/overview">participate in consensus</a> and listen to <a href="/docs/next/protocol/mining/poet">PoET server</a> results. This requires the nodes to have a communication infrastructure to transport messages across the network. For this, Spacemesh nodes use a custom-built peer-to-peer (P2P) protocol. Using P2P technology allows nodes to efficiently transmit messages without the need for a centralized message server.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-is-p2p"></a>What is P2P?<a class="hash-link" href="#what-is-p2p" title="Direct link to heading">#</a></h2><p><a href="https://en.wikipedia.org/wiki/Peer-to-peer" target="_blank" rel="noopener noreferrer">Peer-to-peer</a> is a distributed application architecture that allows sharing of data and resources among nodes, called peers, that are similarly privileged. This means that no single server or master node has any special capabilities, unlike in a client-server architecture.</p><p>Historically, peer to peer technology has mainly been used for file sharing, as popularized by <a href="https://en.wikipedia.org/wiki/Napster" target="_blank" rel="noopener noreferrer">Napster</a>, VoIP services like Skype and, more recently, <a href="https://en.wikipedia.org/wiki/BitTorrent" target="_blank" rel="noopener noreferrer">BitTorrent</a>. Other usage cases have emerged, including distributed file systems and of course blockchain technology.</p><p>P2P is the perfect architecture for blockchain since it provides a means to connect to a network without relying upon a centralized server, enabling some of the core properties of blockchain including permissionlessness and censorship resistance.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="building-blocks"></a>Building Blocks<a class="hash-link" href="#building-blocks" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="topology"></a>Topology<a class="hash-link" href="#topology" title="Direct link to heading">#</a></h3><p>Each peer must discover and connect to one or more peers in order to pass messages to and from the network. Peer to peer architecture usually connects nodes in a mesh topology. Each node knows and communicates with some number of peers, but does not need to connect directly to all other nodes in the network in order to communicate with them (indeed, in any network of even modest size, this would quickly become impossible as the number of required connections grows exponentially). Specifically in the context of blockchain, it is in fact desirable that a single node <em>not</em> know too many other nodes (e.g., their IP address and port) in order that a malicious node could not discover and attack too many other nodes.</p><a name="discovery"></a><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bootstrap-and-peer-discovery"></a>Bootstrap and Peer Discovery<a class="hash-link" href="#bootstrap-and-peer-discovery" title="Direct link to heading">#</a></h3><p>Nodes need a mechanism, called discovery, that allows them to find and connect to peers. In order for a new node to discover peers and join the network, it needs to know the address of at least one other node (called a bootstrap node) at system startup. The new node queries the bootstrap node for a list of other nodes to connect to. After connecting to a bootstrap node, additional discovery takes place, where the newly added peers are queried for additional nodes as well. Each node maintains a local list of peers that it has learned of, known as an &quot;address book&quot;: after the node is restarted, or if it loses a peer connection, it can refer to its address book to find peers to connect to, thus bypassing the bootstrap phase. Note that, in order to prevent an <a href="https://www.radixdlt.com/post/what-is-an-eclipse-attack/" target="_blank" rel="noopener noreferrer">eclipse attack</a>, it&#x27;s important that a node regularly perform peer discovery with nodes that it&#x27;s not currently connected to.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="message-broadcast"></a>Message Broadcast<a class="hash-link" href="#message-broadcast" title="Direct link to heading">#</a></h3><p>Nodes also need a way to exchange messages with other nodes. This usually involves broadcasting a message to every node in the network, and, in turn, receiving such broadcast messages, a subprotocol called <a href="#gossip">gossip</a>. However, it is also useful to be able to exchange messages with a specific peer (usually, only one that the node is directly connected to, i.e., a &quot;neighbor&quot;). Therefore we need a messaging protocol that allows messages to traverse the network and reach all nodes, or one specific &quot;neighbor&quot; node.</p><a name="authentication"></a>### Peer Authentication<p>To prevent fraud and to prevent one node from performing malicious activities while masquerading as another node, we also require a peer authentication system. Similar to the mechanism that&#x27;s used in cryptocurrency wallets, these systems are usually based on public-private keypairs. Each peer generates a keypair and advertises its public key (which may or may not be distinct from the keypair used in the wallet), which can be used to encrypt messages intended for it. The keys can also be used to sign messages to prove that they originated from the holder of the private key.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="p2p-in-spacemesh"></a>P2P in Spacemesh<a class="hash-link" href="#p2p-in-spacemesh" title="Direct link to heading">#</a></h2><p>The Spacemesh network is an unstructured peer-to-peer network. Each peer both connects to other peers and also accepts incoming connections from peers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="custom-p2p-stack"></a>Custom P2P stack<a class="hash-link" href="#custom-p2p-stack" title="Direct link to heading">#</a></h3><p>Early on in the architecture process, we evaluated existing P2P stacks including the Ethereum stack and <a href="https://github.com/libp2p" target="_blank" rel="noopener noreferrer">libp2p</a>. We decided that these existing stacks were too tightly coupled to the respective protocols: for instance, the Ethereum P2P stack requires that all data be sent using a custom encoding called <a href="https://github.com/ethereum/wiki/wiki/RLP" target="_blank" rel="noopener noreferrer">RLP</a>, and libp2p necessitates use of <a href="https://en.wikipedia.org/wiki/Kademlia" target="_blank" rel="noopener noreferrer">Kademlia DHT</a>, which is useful for file sharing but is not required by Spacemesh. We therefore decided to implement our own lightweight P2P stack. For more information on this decision process, see <a href="https://medium.com/spacemesh/perfect-p2p-library-c559d1ca57dc" target="_blank" rel="noopener noreferrer">The search for the perfect p2p library</a> (but note that some of the information, such as the discussion of the DHT, is outdated).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="identity"></a>Identity<a class="hash-link" href="#identity" title="Direct link to heading">#</a></h3><p>Each peer is identified by the peer&#x27;s unique P2P public key. This public key is used both to encrypt data in transit between peers, and for <a href="#authentication">peer authentication</a>. Note that this public key is not used outside of the P2P stack. The keypair that Spacemesh nodes use to identify themselves in the P2P network is distinct from both the keypair used in mining (signing blocks, ATXs, Hare messages, etc.) and the wallet keypair used to sign transactions.</p><p>This is a privacy feature: P2P IDs are not considered private since anyone on the network can determine the IP address of any P2P ID. In this way, a miner can change their P2P ID as often as they like (and, e.g., reconnect to the P2P network using a new ID). While traffic analysis can to some extent be used to associate different IDs belonging to the same node, there are additional steps one can take to protect their privacy. We are exploring the use of features such as <a href="https://arxiv.org/pdf/1701.04439.pdf" target="_blank" rel="noopener noreferrer">Dandelion</a> in Spacemesh for this purpose.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="protocols-multiplex-and-gossip"></a>Protocols, multiplex, and gossip<a class="hash-link" href="#protocols-multiplex-and-gossip" title="Direct link to heading">#</a></h3><p>Spacemesh <a href="https://en.wikipedia.org/wiki/Multiplexing" target="_blank" rel="noopener noreferrer">multiplexes</a> messages from many subprotocols (<code>gossip</code>, <code>discovery</code>, <code>hare</code>, <code>sync</code>) over each peer connection. The P2P stack is agnostic to the format and contents of messages belonging to individual subprotocols.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="discovery"></a>Discovery<a class="hash-link" href="#discovery" title="Direct link to heading">#</a></h4><p>The discovery subprotocol is used to <a href="#discovery">discover new peers</a> to connect to. It&#x27;s implemented directly on top of the P2P layer.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="gossip"></a>Gossip<a class="hash-link" href="#gossip" title="Direct link to heading">#</a></h4><p>In a blockchain protocol like Spacemesh, many types of data, including transactions and blocks, must traverse the network and reach every node. This is achieved using the Gossip subprotocol. Gossip allows each node to broadcast a message to the entire network, and also to forward on other gossip messages it receives. Gossip is implemented on top of the P2P layer.</p><p>Each individual subprotocol must register an incoming message handler with the P2P stack. When a subprotocol receives and validates a gossip message, it may report back to the P2P stack that the message is valid, which allows the message to continue to propagate throughout the P2P network to the node&#x27;s peers. This helps prevent DoS attacks by ensuring that bad data (blocks, transactions, etc.) don&#x27;t traverse the network since honest nodes will never gossip them.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="hare"></a>Hare<a class="hash-link" href="#hare" title="Direct link to heading">#</a></h4><p>The Hare is one of the two main consensus engines in Spacemesh. As it involves message passing among nodes, and as all nodes need to receive these messages, it&#x27;s implemented on top of the Gossip subprotocol. For more information, see <a href="/docs/next/protocol/consensus/overview#hare">Hare</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sync"></a>Sync<a class="hash-link" href="#sync" title="Direct link to heading">#</a></h4><p>Unlike Gossip, the Sync subprotocol is used to exchange specific pieces of data with specific peers. For instance, when a new node comes online, it needs to fetch every layer, block, transaction, ATX, etc. since genesis. It does this by requesting all of the blocks for a given layer, then all of the transactions for a given block, etc., from its peers.</p><p>The Sync subprotocol is also implemented directly on top of the P2P layer. For more information, see <a href="/docs/next/protocol/sync/overview">Sync</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="messages"></a>Messages<a class="hash-link" href="#messages" title="Direct link to heading">#</a></h3><p>Each message is signed using the sender&#x27;s public key. In addition to the message data itself (the payload), it includes a subprotocol, a client version, a timestamp, the public key of the message originator, a network ID, whether the message is a request or a response, the request ID, and the type of message in the specified subprotocol. All messages are serialized on the wire using <a href="https://en.wikipedia.org/wiki/External_Data_Representation" target="_blank" rel="noopener noreferrer">the XDR standard</a>.</p><p>The subprotocol that generated the message then sends it to the P2P stack. It can either broadcast the message to all peers over the gossip network, or it can send the message to one directly-connected &quot;neighbor&quot; peer. Most subprotocols only broadcast messages, but the <code>sync</code> subprotocol sends messages to specific peers: for example, to respond to an incoming request for a specific block from a specific peer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="peer-discovery"></a>Peer Discovery<a class="hash-link" href="#peer-discovery" title="Direct link to heading">#</a></h3><p>As <a href="#discovery">described above</a>, a peer performs an initial discovery process, called bootstrap, when it first comes online, then subsequently performs additional peer discovery to ensure it has a sufficiently large list of other nodes, and to prevent eclipse attacks.</p><p>The following flow describes how a node requests a list of peers from another node:</p><ol><li>The initiator must first send ping message, to verify that node is alive. The ping contains the node ID (public key), the sender&#x27;s IP and port.</li><li>The recipient responds to the ping with a pong message, of the same format as the ping, to validate this information. (In other words, the recipient ensures the intiator is indeed listening at the IP and port they advertised. This prevents reflective DoS attacks.)</li><li>The initiator then sends a <code>getAddresses</code> message, requesting a list of peers.</li><li>The recipient responds with a list of additional peers: their node IDs, IP addresses, and ports.</li></ol><p>Each node maintains an &quot;address book&quot; of known nodes. When it first starts up, or after a peer connection has been lost, it randomly chooses a peer from this address book to dial and attempt to initiate a new session with. This randomness is important to help prevent an eclipse attack. Actually, it doesn&#x27;t choose completely randomly: a peer is less likely to attempt to reconnect to a node that it failed to connect to before.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="session-initiation"></a>Session Initiation<a class="hash-link" href="#session-initiation" title="Direct link to heading">#</a></h3><p>When two nodes connect for the first time, a secure P2P session needs to be established (using a TCP socket). To establish the session the initiator node first generates a handshake message containing its client version and the network ID it&#x27;s trying to connect to. It then encrypts the message using a <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank" rel="noopener noreferrer">Diffie-Hellman</a> shared secret key constructed using its own private key and the recipient&#x27;s public key. It sends the message, and its public key, to the recipient.</p><p>The recipient reconstucts the shared secret key, using its private key and the initator&#x27;s public key, uses it to decrypt the handshake message, and checks the initiator&#x27;s client version and network ID. If everything checks out, it responds to the handshake message and a session is established; if not, the TCP connection is closed and no further information is exchanged.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spacemeshos/platform-docs/blob/main/docs/protocol/p2p/01-overview.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-10T18:43:24.000Z" class="docLastUpdatedAt_1Qna">3/10/2021</time> by <strong>Aviv Eyal</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/protocol/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Spacemesh Protocol Documentation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/protocol/consensus/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Consensus in Spacemesh Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-p2p" class="table-of-contents__link">What is P2P?</a></li><li><a href="#building-blocks" class="table-of-contents__link">Building Blocks</a><ul><li><a href="#topology" class="table-of-contents__link">Topology</a></li><li><a href="#bootstrap-and-peer-discovery" class="table-of-contents__link">Bootstrap and Peer Discovery</a></li><li><a href="#message-broadcast" class="table-of-contents__link">Message Broadcast</a></li></ul></li><li><a href="#p2p-in-spacemesh" class="table-of-contents__link">P2P in Spacemesh</a><ul><li><a href="#custom-p2p-stack" class="table-of-contents__link">Custom P2P stack</a></li><li><a href="#identity" class="table-of-contents__link">Identity</a></li><li><a href="#protocols-multiplex-and-gossip" class="table-of-contents__link">Protocols, multiplex, and gossip</a></li><li><a href="#messages" class="table-of-contents__link">Messages</a></li><li><a href="#peer-discovery" class="table-of-contents__link">Peer Discovery</a></li><li><a href="#session-initiation" class="table-of-contents__link">Session Initiation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Explore</h4><ul class="footer__items"><li class="footer__item"><a href="https://spacemesh.io/testnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet</a></li><li class="footer__item"><a href="https://spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/teamspacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spacemeshos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Spacemesh. This work is licensed under CC BY 4.0.</div></div></div></footer></div>
<script src="/styles.911b1de1.js"></script>
<script src="/runtime~main.9b6d7683.js"></script>
<script src="/main.f41fa988.js"></script>
<script src="/1.069955a3.js"></script>
<script src="/39.5a542fb3.js"></script>
<script src="/40.53bf907d.js"></script>
<script src="/935f2afb.3b334d49.js"></script>
<script src="/38.0dc0b0df.js"></script>
<script src="/959b2680.bf524bde.js"></script>
</body>
</html>