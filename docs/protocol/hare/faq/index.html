<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spacemesh Platform Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spacemesh Platform Docs Blog Atom Feed"><title data-react-helmet="true">Hare Protocol FAQ | Spacemesh Platform Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="0.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-0.1.0"><meta data-react-helmet="true" property="og:title" content="Hare Protocol FAQ | Spacemesh Platform Docs"><meta data-react-helmet="true" name="description" content="Q: Do all online full nodes on the network participate in the consensus of every layer?"><meta data-react-helmet="true" property="og:description" content="Q: Do all online full nodes on the network participate in the consensus of every layer?"><meta data-react-helmet="true" property="og:url" content="https://platform.spacemesh.io/docs/protocol/hare/faq"><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://platform.spacemesh.io/docs/protocol/hare/faq"><link rel="stylesheet" href="/styles.4d0f6cc4.css">
<link rel="preload" href="/styles.911b1de1.js" as="script">
<link rel="preload" href="/runtime~main.10eef1c2.js" as="script">
<link rel="preload" href="/main.2d0ef4c9.js" as="script">
<link rel="preload" href="/1.069955a3.js" as="script">
<link rel="preload" href="/39.5a542fb3.js" as="script">
<link rel="preload" href="/40.53bf907d.js" as="script">
<link rel="preload" href="/618c8e2f.8018f355.js" as="script">
<link rel="preload" href="/38.0dc0b0df.js" as="script">
<link rel="preload" href="/2e849277.4a4545aa.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/">0.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/protocol/hare/faq">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/protocol/hare/faq">0.1.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/protocol/hare/faq">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/protocol/hare/faq">0.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Welcome</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protoocl</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/p2p/overview">Peer to Peer</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Consensus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/consensus/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/consensus/deepdive">Deep Dive</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Hare</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/hare/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/protocol/hare/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Mining</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/mining/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/mining/post">PoST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/mining/poet">PoET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/mining/activations">Activations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/sync/overview">Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/transactions/overview">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/overview">Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 0.1.0</span></div><header><h1 class="docTitle_Oumm">Hare Protocol FAQ</h1></header><div class="markdown"><p>Q: Do all online full nodes on the network participate in the consensus of every layer?</p><p>A: They all listen to protocol messages sent over the gossip network but they are not allowed to send messages.</p><hr><p>Q: Does a different active set and leader being set each and every round?</p><p>A: In every round a committee of (about) N (probably 800) nodes is being elected randomly. This committee is the only one who can send messages during the relevant rounds (status, commit, notify or pre-round). In the case of a leader, it is the same idea, we set the params such that on average we will have 1 leader in the proposal round. So we do not set actual roles but instead for each round we make a query to the oracle with the expected members in the committee, this way we can check if a sender is eligible or not relatively to the current round.</p><p>In order to to terminate, an honest node must see f+1 notification messages on the same set (which will be the output set), once he sees them he can be sure that all other honest will see it in the following round (thanks to the gossip propagation property) and hence, can terminate.</p><hr><p>Q: When saying the pre-round is only executed once. Do you mean once in a layer until consensus is reached? So we have this sequence: [pre-round]{[0,1,2,3]...} - meaning pre-round and then 1 or more iterations of the 4 rounds until consensus is reached?</p><p>A: Exactly. That is because the pre-round round is only used to take care of validity 2. Once we filtered our set from unprovable values we can be sure that the consensus will be only over values that are validity2-valid.</p><hr><p>Q: So, the pre-round is used to filter blocks that we didnâ€™t get from at least f+1 active participants?</p><p>A: Yes, because that will mean that every value (block id) that is not filtered after the pre-round had f+1 witnesses, meaning it was seen by at least one honest, meaning validity 2 is satisfied.</p><hr><p>Q: What are <code>k</code> and <code>ki</code> discussed round 0 - they are not previously defined? Do you mean ROLES by â€˜current statusâ€™? Not clear... So S is a set of blocks. Please define k, ki and status...</p><p>A: In the protocol, k is used to describe the current iteration. ki is used to describe the last iteration for which we have a certificate. The idea with ki is to always track the max iteration for which we accepted a proposal (see round 4) and to allow to accept only newer certificates as the protocol goes on.</p><p>Q:  Round 2: is the <code>notify message</code> sent to the whole network via gossip?</p><hr><p>Q: Round 2: what is <code>equivocation</code> - it is not previously defined. Please define.. what does it mean to detect and equivocation?</p><p>A: Equivocation, generally means that someone tried to present more than one truth. Specifically itis used to describe a malicious leader that sends more than one proposal to the network - that is called leader equivocation or proposal equivocation. This behavior can be broaden to other message types, for example pre-round messages.</p><hr><p>Q: Round 3: what internal state is updated? what notion, set, data, etc...</p><p>A: Ti is a temporal set. Si is the set in our state (at the beginning it is the initial set). When we do Si=Ti we simply update our set. In round 3 we also update the tracked certificate (since we have just created a new one).</p><hr><p>Q: Termination: can it happen before round 3 or only after round 3? meaning, can the protocol ever terminate after round 2 or does each party always run 4 rounds?</p><p>A: It doesn&#x27;t need 4 rounds but it can&#x27;t terminate in the proposal round. But, after the proposal, at the end of round 3/sometime in round 4, we can terminate if we received enough notification messages (depends on the network propagation).
2. You are right, I will rephrase. This committee is the only one who can speak in this round. We pick a committee of size N for each round except for the proposal round for which we pick a committee of size 1.</p><p>Let&#x27;s mark them Pre-Round and Round1 to Round4. In that case, the protocol can terminate at the end of round 3 (assuming zero propagation). If not we continue to round 4 as usual and after that back to round 1 (which is considered to be the next iteration)</p><hr><p>Q: As long as less than 1/3 + are dishonest - does hare always eventually terminates with a consensus on a set even if more than 1 4-rounds iteration is needed?</p><p>A: Regarding the termination it is a bit delicate. When we talk about termination we actually relate to termination under the assumptions of our system which is 1. 2/3 honest majority. 2. Intersection of honest sets is not empty. The former implies that with extremely high probability we have a 1/2(+1) honest majority. The latter means the pre-round will never (actually, very high probability = 2^-40) end with empty set. Put these two together and it means that on expectation the consensus will terminate in two iterations (because the protocol ensures that once an honest is picked as leader - the consensus will terminate in that same iteration). Putting that aside, there is about 2^-40 probability that the protocol will never terminate.</p><hr><p>Q: what happens when 1/3 +1 are dishonest? Does hare terminate w/o a set or does it never terminates? e.g. can the dishonest parties cause hare to never terminate?</p><p>A: Well the question is not well defined. Please check my answer to Q11. Generally, as long as dishonest leader is picked to lead - he can stall the consensus by one iteration. Since we assume half are honest we expect two iterations as I explained. On the other hand, if we tolerate f dishonest and there are f+1 or more (no matter if f is 1/3, 1/4 or 1/2 etc) then the assumptions are broken, nothing is guaranteed and you can end up with non consistent sets on termination or not terminate at all.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spacemeshos/platform-docs/blob/main/versioned_docs/version-0.1.0/protocol/hare/FAQ.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-09T19:07:34.000Z" class="docLastUpdatedAt_1Qna">3/9/2021</time> by <strong>Aviv Eyal</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/protocol/hare/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« The Hare Protocol</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/protocol/mining/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mining Overview Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Explore</h4><ul class="footer__items"><li class="footer__item"><a href="https://spacemesh.io/testnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet</a></li><li class="footer__item"><a href="https://spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/teamspacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spacemeshos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Spacemesh. This work is licensed under CC BY 4.0.</div></div></div></footer></div>
<script src="/styles.911b1de1.js"></script>
<script src="/runtime~main.10eef1c2.js"></script>
<script src="/main.2d0ef4c9.js"></script>
<script src="/1.069955a3.js"></script>
<script src="/39.5a542fb3.js"></script>
<script src="/40.53bf907d.js"></script>
<script src="/618c8e2f.8018f355.js"></script>
<script src="/38.0dc0b0df.js"></script>
<script src="/2e849277.4a4545aa.js"></script>
</body>
</html>