<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spacemesh Platform Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spacemesh Platform Docs Blog Atom Feed"><title data-react-helmet="true">Mining - Non-interactive Proof of Space-time | Spacemesh Platform Docs</title><meta data-react-helmet="true" property="og:url" content="https://platform.spacemesh.io/docs/protocol/mining/nipost"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="0.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-0.1.0"><meta data-react-helmet="true" property="og:title" content="Mining - Non-interactive Proof of Space-time | Spacemesh Platform Docs"><meta data-react-helmet="true" name="description" content="Non-interactive Proof of Space-time (NIPoST) is an algorithm that can be used to construct a self-contained Proof of Space-time (PoST) that is fully deterministic, non-interactive, and publicly-verifiable. In essence, it involves chaining together a series of Proofs of Space-time (PoST) and Proofs of Elapsed Time (PoET) in such a fashion that a verifier can independently verify that the prover had access to a certain dataset for an arbitrarily long period of time (subject to the rationality argument presented in PoST, i.e., that in theory the prover couldâ€™ve chosen instead to regenerate the dataset every time a proof was generated, but that to do so would be expensive and would not afford any advantage). In this respect NIPoST may be thought of as the glue that chains multiple, sequential proofs together, or alternatively as a second order or meta-proof which wraps or contains, as constituent parts, a Proof of Elapsed Time and multiple Proofs of Space-time."><meta data-react-helmet="true" property="og:description" content="Non-interactive Proof of Space-time (NIPoST) is an algorithm that can be used to construct a self-contained Proof of Space-time (PoST) that is fully deterministic, non-interactive, and publicly-verifiable. In essence, it involves chaining together a series of Proofs of Space-time (PoST) and Proofs of Elapsed Time (PoET) in such a fashion that a verifier can independently verify that the prover had access to a certain dataset for an arbitrarily long period of time (subject to the rationality argument presented in PoST, i.e., that in theory the prover couldâ€™ve chosen instead to regenerate the dataset every time a proof was generated, but that to do so would be expensive and would not afford any advantage). In this respect NIPoST may be thought of as the glue that chains multiple, sequential proofs together, or alternatively as a second order or meta-proof which wraps or contains, as constituent parts, a Proof of Elapsed Time and multiple Proofs of Space-time."><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://platform.spacemesh.io/docs/protocol/mining/nipost"><link data-react-helmet="true" rel="alternate" href="https://platform.spacemesh.io/docs/protocol/mining/nipost" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://platform.spacemesh.io/docs/protocol/mining/nipost" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.30cc0a2f.css">
<link rel="preload" href="/assets/js/runtime~main.109553ad.js" as="script">
<link rel="preload" href="/assets/js/main.f2122dce.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/docs"><img src="/favicon.png" alt="Spacemesh" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs"><img src="/favicon.png" alt="Spacemesh" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/favicon.png" alt="Spacemesh" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Spacemesh Platform</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 0.1.0</span></div><header><h1 class="docTitle_3a4h">Mining - Non-interactive Proof of Space-time</h1></header><div class="markdown"><p>Non-interactive Proof of Space-time (NIPoST) is an algorithm that can be used to construct a self-contained <a href="/docs/protocol/mining/post">Proof of Space-time (PoST)</a> that is fully deterministic, non-interactive, and publicly-verifiable. In essence, it involves chaining together a series of Proofs of Space-time (PoST) and Proofs of Elapsed Time (PoET) in such a fashion that a verifier can independently verify that the prover had access to a certain dataset for an arbitrarily long period of time (subject to the rationality argument presented in <a href="/docs/protocol/mining/post">PoST</a>, i.e., that in theory the prover couldâ€™ve chosen instead to regenerate the dataset every time a proof was generated, but that to do so would be expensive and would not afford any advantage). In this respect NIPoST may be thought of as the <em>glue</em> that chains multiple, sequential proofs together, or alternatively as a <em>second order</em> or <em>meta-proof</em> which wraps or contains, as constituent parts, a Proof of Elapsed Time and multiple Proofs of Space-time.</p><p>In the context of Spacemesh, NIPoST proofs are generated and submitted by miners to the network as part of an <a href="/docs/protocol/mining/activations">ATX</a> to assert their eligibility to mine in the following epoch.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="construction"></a>Construction<a class="hash-link" href="#construction" title="Direct link to heading">#</a></h2><p>Although the proving protocol in <a href="/docs/protocol/mining/post">PoST</a> can be made non-interactive using the <a href="https://en.wikipedia.org/wiki/Fiat%E2%80%93Shamir_heuristic" target="_blank" rel="noopener noreferrer">Fiat-Shamir heuristic</a> (replacing the verifierâ€™s response to the commitment, the challenge, with a hash of the commitment), the execution phase still requires interaction: the proof must be generated as a response to an unpredictable challenge. In addition, the <em>time</em> component of the space-time resource is not publicly-verifiable, and depends on the verifierâ€™s measurement of the elapsed time between phases.</p><p>However, by creating a dependency between PoST and PoET, we can create a single, self-contained proof that is entirely non-interactive and publicly-verifiable. The key insight is to use the output of the initialization phase (or the previous execution phase if weâ€™re running multiple times, as in the Spacemesh protocol) as the challenge to PoET, and then use the output of PoET as the challenge to the execution phase. (Note that we may choose to hash these challenges first to reduce them to a fixed size, which has no negative implications on security.) This construction creates a non-interactive proof-of-space-time (NIPoST) that convinces a verifier that the prover committed sufficient space-time resources (i.e., a proven amount of space for at least a proven length of time).</p><p><img alt="Visualization of the NIPoST Construction" src="/assets/images/nipost-99667c65796bd9eade4d7f691d48bf04.png"></p><p>The prover cannot guess the PoST commitment value without first generating the PoST data, and cannot guess the PoET outcome before waiting the specified duration after learning the PoST commitment. This creates a coupling between PoST and PoET which enables a non-interactive proving process, i.e., one in which the verifier does not take part.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="chaining"></a>Chaining<a class="hash-link" href="#chaining" title="Direct link to heading">#</a></h2><p>The NIPoST is intended to be chained: the initial NIPoST starts with the initialization phase, which generates data with respect to a specific ID, and ends with an execution phase to prove that the data are still stored (see <a href="/docs/protocol/mining/post#phases">more on these phases</a>). Each subsequent NIPoST starts with the output of the previous NIPoST execution phase as its input. As described in <a href="/docs/protocol/mining/post#proving">PoST</a>, this is not unlike the way in which each Bitcoin block refers to the previous block, with a genesis block upfront (analogous to the initial, commitment phase proof, in our case).</p><p>A single PoST output isnâ€™t intended to be directly and exclusively used as the PoET statement (i.e., the piece of data that PoET asserts knowledge of for some period of time). As explained in the <a href="/docs/protocol/mining/poet">PoET section</a>, individual miners arenâ€™t expected to perform the Proof of Sequential Work (PoSW) required to produce a PoET themselves, which would be extremely computationally expensive. Instead, they submit their challenges to a public PoET service, which aggregates them into a Merkle tree to produce one shared PoET statement.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="proof"></a>Proof<a class="hash-link" href="#proof" title="Direct link to heading">#</a></h2><p>Unlike PoST and PoET, construction of NIPoST does not require commitment of any additional resources or any additional, complex computation. Instead, it just requires input in the form of the PoST and PoET proofs themselves (which, in turn, attest to the committed resources). The full NIPoST consists of the following components, each of which is verified independently:</p><ol><li>The PoST initialization phase proof, or, in the execution phase, the previous execution phase proof</li><li>A Merkle path that proves the inclusion of a challenge based on this proof in the aggregate graph that serves as the PoET statement. The challenge is the PoST initialization phase commitment (or a hash of the previous execution phase proof, in the execution phase).</li><li>A PoET whose input is the root of this Merkle tree</li><li>The PoST of the following execution phase whose challenge is a hash of the output of this roundâ€™s PoET output</li></ol><p>While each PoST contains the publicly-verifiable <em>space</em> component, the PoET is used to prove in a publicly-verifiable way the duration between adjacent PoST proofs, i.e., the <em>time</em> component. The combination of these two components proves commitment of the <em>space-time resource</em>, i.e., a proven amount of space committed for (at least) a proven amount of time.</p><p>The duration component of a NIPoST cannot be directly measured in clock time (which cannot be proven in a publicly-verifiable way). Instead, the NIPoST uses <a href="/docs/protocol/mining/poet"><em>sequential work</em></a> as a proxy for time. That is, the duration is measured as a number of sequential CPU operations, e.g., hash invocations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="publishing"></a>Publishing<a class="hash-link" href="#publishing" title="Direct link to heading">#</a></h2><p>In Spacemesh, in order to publish a NIPoST to the network and assert a minerâ€™s eligibility to produce blocks in the following epoch, the NIPoST is embedded in a special type of transaction called an <em>Activation Transaction</em> (known as an ATX). This leads to a slightly different mechanism than the one described above, where in fact it is not the NIPoSTs which are being chained, but rather the ATXs. To allow that, the challenge to PoET contains, in addition to what was described above, some additional fields from the ATX which embeds the NIPoST. Read on to the <a href="/docs/protocol/mining/activations">next section</a> to learn more.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spacemeshos/platform-docs/blob/main/versioned_docs/version-0.1.0/protocol/mining/04-nipost.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-09T19:07:34.000Z" class="lastUpdatedDate_1WI_">3/9/2021</time> by <strong>Aviv Eyal</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#construction" class="table-of-contents__link">Construction</a></li><li><a href="#chaining" class="table-of-contents__link">Chaining</a></li><li><a href="#proof" class="table-of-contents__link">Proof</a></li><li><a href="#publishing" class="table-of-contents__link">Publishing</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Explore</h4><ul class="footer__items"><li class="footer__item"><a href="https://spacemesh.io/testnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet</a></li><li class="footer__item"><a href="https://spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.spacemesh.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/teamspacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spacemeshos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Spacemesh. This work is licensed under CC BY 4.0.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.109553ad.js"></script>
<script src="/assets/js/main.f2122dce.js"></script>
</body>
</html>