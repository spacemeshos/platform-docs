<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spacemesh Platform Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spacemesh Platform Docs Blog Atom Feed"><title data-react-helmet="true">Mining - Activations | Spacemesh Platform Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="0.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-0.1.0"><meta data-react-helmet="true" property="og:title" content="Mining - Activations | Spacemesh Platform Docs"><meta data-react-helmet="true" name="description" content="Miners become eligible to mine in Spacemesh by publishing an Activation Transaction (ATX). The ATX is a Spacemesh-specific data structure that contains a NIPoST, a publicly verifiable, self-contained proof that the miner committed some space-time resources to the protocol."><meta data-react-helmet="true" property="og:description" content="Miners become eligible to mine in Spacemesh by publishing an Activation Transaction (ATX). The ATX is a Spacemesh-specific data structure that contains a NIPoST, a publicly verifiable, self-contained proof that the miner committed some space-time resources to the protocol."><meta data-react-helmet="true" property="og:url" content="https://platform.spacemesh.io/docs/protocol/mining/activations"><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://platform.spacemesh.io/docs/protocol/mining/activations"><link rel="stylesheet" href="/styles.457accf9.css">
<link rel="preload" href="/styles.286d6e86.js" as="script">
<link rel="preload" href="/runtime~main.69121984.js" as="script">
<link rel="preload" href="/main.2e81677a.js" as="script">
<link rel="preload" href="/1.a65124db.js" as="script">
<link rel="preload" href="/39.6a5733e2.js" as="script">
<link rel="preload" href="/40.53bf907d.js" as="script">
<link rel="preload" href="/618c8e2f.8018f355.js" as="script">
<link rel="preload" href="/38.0dc0b0df.js" as="script">
<link rel="preload" href="/1fc922a0.adb87120.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/">0.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/protocol/mining/activations">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/protocol/mining/activations">0.1.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/logo_black.png" alt="Spacemesh" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/protocol/mining/activations">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/protocol/mining/activations">0.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Welcome</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Protoocl</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/p2p/overview">Peer to Peer</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Consensus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/consensus/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/consensus/deepdive">Deep Dive</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hare</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/hare/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/protocol/hare/faq">FAQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Mining</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/mining/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/mining/post">PoST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/mining/poet">PoET</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/protocol/mining/activations">Activations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/sync/overview">Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/protocol/transactions/overview">Transactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/overview">Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 0.1.0</span></div><header><h1 class="docTitle_Oumm">Mining - Activations</h1></header><div class="markdown"><p>Miners become eligible to mine in Spacemesh by publishing an Activation Transaction (ATX). The ATX is a Spacemesh-specific data structure that contains a <a href="/docs/protocol/mining/nipost">NIPoST</a>, a publicly verifiable, self-contained proof that the miner committed some space-time resources to the protocol.</p><p>The previous documents in this section describe the <em>theory</em> behind a set of independent protocols (PoST, PoET, NIPoST) that form the foundation of the Spacemesh mining construction. With ths background in place, we are now ready to see how these building block fit together <em>in practice</em> to enable the Spacemesh mining construction in the production network. In particular, we&#x27;ll see how the NIPoST (which itself contains the PoST and PoET) is wrapped, with accompanying metadata, into an ATX and used in the Spacemesh protocol.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="epochs-and-eligibility"></a>Epochs and eligibility<a class="hash-link" href="#epochs-and-eligibility" title="Direct link to heading">#</a></h2><p>In Spacemesh, multiple blocks are produced at each block height: the set of blocks produced at a given height is known as a <em>layer.</em> Time is divided into <em>epochs</em>, where an epoch is a fixed number of layers (unlike protocols like Bitcoin where blocks are produced probabilistically, and thus at random intervals, in Spacemesh the length of time between each layer is perfectly fixed and always the same). Every miner publishes one ATX per epoch, which causes the protocol to consider them ‚Äúactive‚Äù in the following epoch.</p><p>Due to the <a href="https://spacemesh.io/race-freeness/" target="_blank" rel="noopener noreferrer">race-free nature of the Spacemesh protocol</a>, being ‚Äúactive‚Äù guarantees a miner eligibility to produce blocks. The reward calculation and total voting weight of the blocks produced by a given miner in the consensus protocol are proportional to the space-time resources attested to by that miner in the NIPoST (contained in their ATX). An active miner is also eligible to participate in Hare consensus protocol [LINK forthcoming].</p><p>An epoch is long enough that each active miner should be able to generate at least one block per epoch (and probably many more)‚Äîe.g., if there are 100,000 active miners, and 200 blocks per layer, each epoch should be at least 500 layers long. The positions of a given miner‚Äôs blocks within layers in the epoch and the participation period in the Hare protocol are selected using a <a href="https://en.wikipedia.org/wiki/Verifiable_random_function" target="_blank" rel="noopener noreferrer">verifiable random function (VRF)</a>, a source of randomness that is verifiable, unpredictable and unbiasable by an adversary. This is necessary to ensure (with high probability) that the majority of blocks in every layer is generated by honest parties.</p><p>[Consider adding an illustration or animation here to make it clearer how and when ATXs are generated, broadcasted, stored, etc.]</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="construction"></a>Construction<a class="hash-link" href="#construction" title="Direct link to heading">#</a></h2><p>Unlike the <a href="/docs/protocol/mining/post">PoST</a> and <a href="/docs/protocol/mining/poet">PoET</a> constructions, an ATX is not itself a proof and as such it does not require any additional commitment of resources or complex computation. Instead, like <a href="/docs/protocol/mining/nipost">NIPoST</a>, it‚Äôs a data structure that wraps the ATX along with relevant metadata. An ATX is a ‚Äúfreestanding‚Äù transaction: it does not have to be included in a block to be valid, but can just be gossiped to the network directly.</p><p>In addition to the full NIPoST attested to by the ATX, the ATX also contains fields such as the ID of the previous ATX from the same miner, the time when the eligibility for this ATX starts and ends, and the miner‚Äôs signature. See <a href="https://spacemesh.io/spacemesh-protocol-v1-0/" target="_blank" rel="noopener noreferrer">the full protocol specifications</a> for an elaboration of the full contents of the ATX.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="validity"></a>Validity<a class="hash-link" href="#validity" title="Direct link to heading">#</a></h2><p>Every valid block [LINK forthcoming] contains a pointer to a valid ATX that authorizes the miner in question to produce a block in the epoch and layer where the block was produced. In order to determine whether a given block is valid, a miner first fetches the ATX that the block points to, and validates that ATX. The ATX is considered valid if it has a valid signature from the miner, if no duplicate ATX was published, if the NIPoST it contains is valid, and if the time indicated by the ATX matches the duration attested to by the NIPoST. These validation rules prevent a dishonest miner from pre-generating ATXs for multiple identities, reusing the same storage space, and publishing them all in a single future epoch. See <a href="https://spacemesh.io/spacemesh-protocol-v1-0/" target="_blank" rel="noopener noreferrer">the full protocol specifications</a> for a full elaboration of the validation rules for an ATX.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>Congratulations, dear reader, on making it to the bottom of this deep, dark rabbit hole! With all of the building blocks in place‚ÄîPoST, PoET, NIPoST, and ATX‚Äîyou now fully understand all of the components of the Proof of Space-time protocol underlying the Spacemesh blockchain, and how they fit together to allow miners to prove in a publicly verifiable, self-contained, non-interactive fashion that they‚Äôve committed a certain amount of space-time resources to the protocol. Read on to learn about the <a href="/docs/protocol/overview#repository-contents">other parts of the protocol</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spacemeshos/platform-docs/blob/main/versioned_docs/version-0.1.0/protocol/mining/05-atx.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-09T19:07:34.000Z" class="docLastUpdatedAt_1Qna">3/9/2021</time> by <strong>Aviv Eyal</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/protocol/mining/poet"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Mining - Proof of Elapsed Time</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/protocol/sync/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sync ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#epochs-and-eligibility" class="table-of-contents__link">Epochs and eligibility</a></li><li><a href="#construction" class="table-of-contents__link">Construction</a></li><li><a href="#validity" class="table-of-contents__link">Validity</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/spacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/teamspacemesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spacemeshos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Spacemesh. This work is licensed under CC BY 4.0.</div></div></div></footer></div>
<script src="/styles.286d6e86.js"></script>
<script src="/runtime~main.69121984.js"></script>
<script src="/main.2e81677a.js"></script>
<script src="/1.a65124db.js"></script>
<script src="/39.6a5733e2.js"></script>
<script src="/40.53bf907d.js"></script>
<script src="/618c8e2f.8018f355.js"></script>
<script src="/38.0dc0b0df.js"></script>
<script src="/1fc922a0.adb87120.js"></script>
</body>
</html>