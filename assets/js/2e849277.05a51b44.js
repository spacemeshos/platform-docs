(self.webpackChunksm_platform_docs=self.webpackChunksm_platform_docs||[]).push([[674],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return p}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),p=r,m=d["".concat(l,".").concat(p)]||d[p]||h[p]||a;return n?o.createElement(m,i(i({ref:t},u),{},{components:n})):o.createElement(m,i({ref:t},u))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4599:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return l},default:function(){return u}});var o=n(2122),r=n(9756),a=(n(7294),n(3905)),i={id:"faq",title:"Hare Protocol FAQ",sidebar_label:"FAQ"},s={unversionedId:"protocol/hare/faq",id:"version-0.1.0/protocol/hare/faq",isDocsHomePage:!1,title:"Hare Protocol FAQ",description:"Q: Do all online full nodes on the network participate in the consensus of every layer?",source:"@site/versioned_docs/version-0.1.0/protocol/hare/FAQ.md",sourceDirName:"protocol/hare",slug:"/protocol/hare/faq",permalink:"/docs/protocol/hare/faq",editUrl:"https://github.com/spacemeshos/platform-docs/blob/main/versioned_docs/version-0.1.0/protocol/hare/FAQ.md",version:"0.1.0",lastUpdatedBy:"Aviv Eyal",lastUpdatedAt:1615316854,formattedLastUpdatedAt:"3/9/2021",sidebar_label:"FAQ",frontMatter:{id:"faq",title:"Hare Protocol FAQ",sidebar_label:"FAQ"},sidebar:"version-0.1.0/someSidebar",previous:{title:"The Hare Protocol",permalink:"/docs/protocol/hare/overview"},next:{title:"Mining Overview",permalink:"/docs/protocol/mining/overview"}},l=[],c={toc:l};function u(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Q: Do all online full nodes on the network participate in the consensus of every layer?"),(0,a.kt)("p",null,"A: They all listen to protocol messages sent over the gossip network but they are not allowed to send messages."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: Does a different active set and leader being set each and every round?"),(0,a.kt)("p",null,"A: In every round a committee of (about) N (probably 800) nodes is being elected randomly. This committee is the only one who can send messages during the relevant rounds (status, commit, notify or pre-round). In the case of a leader, it is the same idea, we set the params such that on average we will have 1 leader in the proposal round. So we do not set actual roles but instead for each round we make a query to the oracle with the expected members in the committee, this way we can check if a sender is eligible or not relatively to the current round."),(0,a.kt)("p",null,"In order to to terminate, an honest node must see f+1 notification messages on the same set (which will be the output set), once he sees them he can be sure that all other honest will see it in the following round (thanks to the gossip propagation property) and hence, can terminate."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: When saying the pre-round is only executed once. Do you mean once in a layer until consensus is reached? So we have this sequence: ","[pre-round]","{","[0,1,2,3]","...} - meaning pre-round and then 1 or more iterations of the 4 rounds until consensus is reached?"),(0,a.kt)("p",null,"A: Exactly. That is because the pre-round round is only used to take care of validity 2. Once we filtered our set from unprovable values we can be sure that the consensus will be only over values that are validity2-valid."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: So, the pre-round is used to filter blocks that we didn\u2019t get from at least f+1 active participants?"),(0,a.kt)("p",null,"A: Yes, because that will mean that every value (block id) that is not filtered after the pre-round had f+1 witnesses, meaning it was seen by at least one honest, meaning validity 2 is satisfied."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: What are ",(0,a.kt)("inlineCode",{parentName:"p"},"k")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"ki")," discussed round 0 - they are not previously defined? Do you mean ROLES by \u2018current status\u2019? Not clear... So S is a set of blocks. Please define k, ki and status..."),(0,a.kt)("p",null,"A: In the protocol, k is used to describe the current iteration. ki is used to describe the last iteration for which we have a certificate. The idea with ki is to always track the max iteration for which we accepted a proposal (see round 4) and to allow to accept only newer certificates as the protocol goes on."),(0,a.kt)("p",null,"Q:  Round 2: is the ",(0,a.kt)("inlineCode",{parentName:"p"},"notify message")," sent to the whole network via gossip?"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: Round 2: what is ",(0,a.kt)("inlineCode",{parentName:"p"},"equivocation")," - it is not previously defined. Please define.. what does it mean to detect and equivocation?"),(0,a.kt)("p",null,"A: Equivocation, generally means that someone tried to present more than one truth. Specifically itis used to describe a malicious leader that sends more than one proposal to the network - that is called leader equivocation or proposal equivocation. This behavior can be broaden to other message types, for example pre-round messages."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: Round 3: what internal state is updated? what notion, set, data, etc..."),(0,a.kt)("p",null,"A: Ti is a temporal set. Si is the set in our state (at the beginning it is the initial set). When we do Si=Ti we simply update our set. In round 3 we also update the tracked certificate (since we have just created a new one)."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: Termination: can it happen before round 3 or only after round 3? meaning, can the protocol ever terminate after round 2 or does each party always run 4 rounds?"),(0,a.kt)("p",null,"A: It doesn't need 4 rounds but it can't terminate in the proposal round. But, after the proposal, at the end of round 3/sometime in round 4, we can terminate if we received enough notification messages (depends on the network propagation).\n2. You are right, I will rephrase. This committee is the only one who can speak in this round. We pick a committee of size N for each round except for the proposal round for which we pick a committee of size 1."),(0,a.kt)("p",null,"Let's mark them Pre-Round and Round1 to Round4. In that case, the protocol can terminate at the end of round 3 (assuming zero propagation). If not we continue to round 4 as usual and after that back to round 1 (which is considered to be the next iteration)"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: As long as less than 1/3 + are dishonest - does hare always eventually terminates with a consensus on a set even if more than 1 4-rounds iteration is needed?"),(0,a.kt)("p",null,"A: Regarding the termination it is a bit delicate. When we talk about termination we actually relate to termination under the assumptions of our system which is 1. 2/3 honest majority. 2. Intersection of honest sets is not empty. The former implies that with extremely high probability we have a 1/2(+1) honest majority. The latter means the pre-round will never (actually, very high probability = 2^-40) end with empty set. Put these two together and it means that on expectation the consensus will terminate in two iterations (because the protocol ensures that once an honest is picked as leader - the consensus will terminate in that same iteration). Putting that aside, there is about 2^-40 probability that the protocol will never terminate."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Q: what happens when 1/3 +1 are dishonest? Does hare terminate w/o a set or does it never terminates? e.g. can the dishonest parties cause hare to never terminate?"),(0,a.kt)("p",null,"A: Well the question is not well defined. Please check my answer to Q11. Generally, as long as dishonest leader is picked to lead - he can stall the consensus by one iteration. Since we assume half are honest we expect two iterations as I explained. On the other hand, if we tolerate f dishonest and there are f+1 or more (no matter if f is 1/3, 1/4 or 1/2 etc) then the assumptions are broken, nothing is guaranteed and you can end up with non consistent sets on termination or not terminate at all."))}u.isMDXComponent=!0}}]);